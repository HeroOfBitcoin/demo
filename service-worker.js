var VERSION='v2.12',CACHE_NAME='gbajs3-'+VERSION;const pre_cache_urls=['/','/favicon.ico','/index.html','/resources/main.css','/resources/init-main.js','/emulator/gbajs/js/util.js','/emulator/gbajs/js/core.js','/emulator/gbajs/js/arm.js','/emulator/gbajs/js/thumb.js','/emulator/gbajs/js/mmu.js','/emulator/gbajs/js/io.js','/emulator/gbajs/js/audio.js','/emulator/gbajs/js/video.js','/emulator/gbajs/js/video/proxy.js','/emulator/gbajs/js/video/software.js','/emulator/gbajs/js/irq.js','/emulator/gbajs/js/keypad.js','/emulator/gbajs/js/sio.js','/emulator/gbajs/js/savedata.js','/emulator/gbajs/js/gpio.js','/emulator/gbajs/js/gba.js','/emulator/gbajs/js/video/worker.js','/resources/xhr.js','/resources/biosbin.js','/resources/gba-api.js','/emulator/mGBA/wasm/mgba.js','/emulator/mGBA/wasm/mgba.wasm','/emulator/mGBA/mGBAEmulator.js','/emulator/gbajs/GBAJsEmulator.js','/emulator/emulator.js'];self.addEventListener('install',function(a){a.waitUntil(caches.open(CACHE_NAME).then(function(a){return a.addAll(pre_cache_urls)}))}),self.addEventListener('activate',a=>{console.log('service worker has been activated'),a.waitUntil(caches.keys().then(a=>a.filter(a=>CACHE_NAME!==a)).then(a=>(console.log('DESTROYING CACHE',a.join(',')),Promise.all(a.map(a=>caches.delete(a))))).then(()=>self.clients.claim()))}),self.addEventListener('fetch',a=>{if(a.request.method!=='GET')return;var b=new URL(a.request.url);pre_cache_urls.includes(b.pathname+b.search)?a.respondWith(caches.match(a.request).then(a=>{if(a)return a})):a.respondWith(fetch(a.request).then(b=>(caches.open(CACHE_NAME).then(c=>{c.put(a.request,b)}),b.clone())).catch(b=>caches.match(a.request,{ignoreVary:!0}).then(a=>{if(a)return a})))})